{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/kieralynnwilson/Documents/Coding%20Projects/2025/Habit%20Tracker/habit%20web%20app/habit-tracker/Front-end/src/app/add-habit/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { HiOutlinePencil } from \"react-icons/hi2\";\nimport { IoIosCloseCircleOutline } from \"react-icons/io\";\nimport { IoIosCheckmarkCircle } from \"react-icons/io\";\n\nexport default function AddHabits() {\n  const router = useRouter();\n  const [habits, setHabits] = useState<string[]>([]);\n  const [habitDisabled, setHabitDisabled] = useState<boolean[]>([]);\n  const [checkedStates, setCheckedStates] = useState<boolean[]>([]);\n\n  useEffect(() => {\n    // Get habits from session storage, or empty array if not found\n    const stored = localStorage.getItem(\"habits\");\n    const habitList = stored ? JSON.parse(stored) : [];\n    setHabits(habitList);\n    setHabitDisabled(habitList.map(() => true)); // All inputs start as disabled\n\n    //IF a new habbit is added, the checked State should be added and set to false in local storage\n    const storedChecked = localStorage.getItem(\"checkedStates\");\n    if (storedChecked && Array.isArray(JSON.parse(storedChecked))) {\n      setCheckedStates(JSON.parse(storedChecked));\n    }\n  }, []);\n\n  // when the checked state changes, change the value in session storage\n  useEffect(() => {\n    if (checkedStates.length != 0) {\n      localStorage.setItem(\"checkedStates\", JSON.stringify(checkedStates));\n      }\n  }, [checkedStates]);\n\n  // when the habit changes, change the value in session storage\n  useEffect(() => {\n    if (habits.length != 0)\n    localStorage.setItem(\"habits\", JSON.stringify(habits));\n  }, [habits]);\n\n  const handleChange = (idx: number, value: string) => {\n    setHabits((prev) => prev.map((h, i) => (i === idx ? value : h)));\n  };\n\n  /* handelEdit: Function to handle the edit/save functionality\n    If the input is disabled, clicking the edit icon will enable it\n    If the input is enabled, clicking the save icon will disable it */\n  const handleEdit = (idx: number, enabled: boolean) => {\n    // clicking the save icon, setting it to disabled\n    if (enabled) {\n      if (habits[idx].trim() === \"\") {\n        alert(\"Habit cannot be empty. Delte it or add a value.\");\n      } else {\n        setHabitDisabled((prev) => prev.map((d, i) => (i === idx ? true : d)));\n        const input = document.querySelectorAll('input[type=\"text\"]')[idx] as\n          | HTMLInputElement\n          | undefined;\n        input?.blur();\n        const filtered = habits.filter((h) => h.trim() !== \"\");\n        setHabits(filtered);\n      }\n    }\n    // clicking the edit icon, setting it to enabled\n    else {\n      setHabitDisabled((prev) => prev.map((d, i) => (i === idx ? false : d)));\n      // Focus the input for editing\n      const input = document.querySelectorAll('input[type=\"text\"]')[idx] as\n        | HTMLInputElement\n        | undefined;\n      input?.focus();\n    }\n  };\n\n  const handleDelete = (idx: number) => {\n    setHabits((prev) => prev.filter((_, i) => i !== idx));\n    setCheckedStates((prev) => prev.filter((_, i) => i !== idx));\n  };\n\n\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    router.push(\"/\");\n  };\n\n  return (\n    <div className=\"flex justify-center px-4\">\n      <form\n        onSubmit={handleSubmit}\n        className=\"w-full max-w-2xl flex flex-col gap-4 p-8\"\n      >\n        <h1 className=\"text-xl font-bold mb-4 text-center\">\n          Add up to 5 Habits\n        </h1>\n\n        {habits.map((habit, idx) => (\n          <div key={idx} className=\"flex items-center gap-2\">\n            <input\n              type=\"text\"\n              value={habit}\n              maxLength={50}\n              placeholder={`Habit ${idx + 1}`}\n              onChange={(e) => handleChange(idx, e.target.value)}\n              disabled={habitDisabled[idx]}\n              className={\n                habitDisabled[idx]\n                  ? \"bg-gray-300 text-gray-500 disabled focus:outline-none border p-2 rounded flex-1\"\n                  : \"border p-2 rounded text-black flex-1  hover:ring-2 hover:ring-green-500 focus:outline-none transition-colors duration-200\"\n              }\n            />\n            {/* return either edit icon or save icon based on the state of habitDisabled */}\n            {habit != \"\" && habitDisabled[idx] ? (\n              <button\n                type=\"button\"\n                className=\"p-1 text-gray-500 hover:text-green-600\"\n                onClick={() => handleEdit(idx, false)}\n                aria-label=\"Edit habit\"\n              >\n                <HiOutlinePencil className=\"h-5 w-5\" />\n              </button>\n            ) : (\n              <div>\n                <button\n                  type=\"button\"\n                  className=\"p-1\"\n                  onClick={() => handleEdit(idx, true)}\n                  aria-label=\"Save habit\"\n                >\n                  <IoIosCheckmarkCircle className=\"h-6 w-6 text-green-500 hover:text-green-800\" />\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"p-1 text-gray-500 hover:text-blue-600\"\n                  onClick={() => handleDelete(idx)}\n                  aria-label=\"Delete habit\"\n                >\n                  <IoIosCloseCircleOutline className=\"h-6 w-6 hover:text-red-500\" />\n                </button>\n              </div>\n            )}\n          </div>\n        ))}\n\n        <div className=\"flex justify-end mt-6\">\n          {/* show add button onlu if habits length is less than 5 */}\n          {habits.length < 5 && (\n            <button\n              type=\"button\"\n              onClick={() => {\n                if (habits.length < 5) {\n                  setHabits([...habits, \"\"]);\n                  setHabitDisabled([...habitDisabled, false]);\n                  setCheckedStates((prev) => [...prev, false]);\n                }\n              }}\n              disabled={habits.length == 5}\n              className=\"bg-green-600 hover:bg-green-800 text-white font-bold py-2 px-4 rounded-full transition-colors duration-200\"\n            >\n              +\n            </button>\n          )}\n        </div>\n        <div className=\"flex justify-center mt-6\">\n          <button\n            className=\"bg-green-600 text-white rounded px-4 py-2 hover:bg-green-800 transition-colors duration-200\"\n            type=\"submit\"\n          >\n            Habit List\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}